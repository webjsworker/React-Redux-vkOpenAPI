{"ast":null,"code":"export const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport function handleLogin() {\n  return function (dispatch) {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    VK.Auth.login(r => {\n      if (r.session) {\n        let username = r.session.user.first_name;\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: username\n        });\n      } else {\n        dispatch({\n          type: LOGIN_FAIL,\n          error: true,\n          payload: new Error('Ошибка авторизации')\n        });\n      }\n    }, 4);\n  };\n}","map":{"version":3,"sources":["D:/Programm_HTML/react_app/my-first-app/src/actions/UserActions.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","handleLogin","dispatch","type","VK","Auth","login","r","session","username","user","first_name","payload","error","Error"],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,UAAU,GAAG,YAAnB;AAEP,OAAO,SAASC,WAAT,GAAsB;AAEzB,SAAO,UAASC,QAAT,EAAkB;AACrBA,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAAEL;AADD,KAAD,CAAR;AAIAM,IAAAA,EAAE,CAACC,IAAH,CAAQC,KAAR,CAAcC,CAAC,IAAG;AAEd,UAAIA,CAAC,CAACC,OAAN,EAAc;AACV,YAAIC,QAAQ,GAAGF,CAAC,CAACC,OAAF,CAAUE,IAAV,CAAeC,UAA9B;AAEAT,QAAAA,QAAQ,CAAC;AACLC,UAAAA,IAAI,EAAEJ,aADD;AAELa,UAAAA,OAAO,EAAEH;AAFJ,SAAD,CAAR;AAIN,OAPE,MAOI;AACHP,QAAAA,QAAQ,CAAC;AACLC,UAAAA,IAAI,EAAEH,UADD;AAELa,UAAAA,KAAK,EAAE,IAFF;AAGLD,UAAAA,OAAO,EAAE,IAAIE,KAAJ,CAAW,oBAAX;AAHJ,SAAD,CAAR;AAKH;AACD,KAhBD,EAgBG,CAhBH;AAiBH,GAtBD;AAuBH","sourcesContent":["export const LOGIN_REQUEST = 'LOGIN_REQUEST'\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\n\r\nexport function handleLogin(){\r\n    \r\n    return function(dispatch){\r\n        dispatch({\r\n            type: LOGIN_REQUEST,\r\n        })\r\n\r\n        VK.Auth.login(r =>{\r\n            \r\n            if (r.session){\r\n                let username = r.session.user.first_name\r\n\r\n                dispatch({\r\n                    type: LOGIN_SUCCESS,\r\n                    payload: username,\r\n                })\r\n         } else {\r\n             dispatch({\r\n                 type: LOGIN_FAIL,\r\n                 error: true,\r\n                 payload: new Error ('Ошибка авторизации'), \r\n             })\r\n         }\r\n        }, 4)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}